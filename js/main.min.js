jQuery(document).ready(function(){jQuery("#edition-select").on("change",function(){var e=jQuery(this).val();return e&&(window.location=e),!1})}),jQuery(document).ready(function(){jQuery("#liste-categorie").on("change",function(){var e=jQuery(this).val();return e&&(window.location=e),!1})}),L.Control.StyledLayerControl=L.Control.Layers.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,group_togglers:{show:!1,labelAll:"All",labelNone:"None"},groupDeleteLabel:"Delete the group"},initialize:function(e,r,o){for(var t in L.Util.setOptions(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._groupList=[],this._domGroups=[],e)for(var n in e[t].layers)this._addLayer(e[t].layers[n],n,e[t],!1);for(t in r)for(var n in r[t].layers)this._addLayer(r[t].layers[n],n,r[t],!0)},onAdd:function(e){return this._initLayout(),this._update(),e.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this).on("zoomend",this._onZoomEnd,this),this._container},onRemove:function(e){e.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(e,r,o){return this._addLayer(e,r,o,!1),this._update(),this},addOverlay:function(e,r,o){return this._addLayer(e,r,o,!0),this._update(),this},removeLayer:function(e){e=L.Util.stamp(e);return delete this._layers[e],this._update(),this},removeGroup:function(e,r){for(group in this._groupList)if(this._groupList[group].groupName==e){for(layer in this._layers)this._layers[layer].group&&this._layers[layer].group.name==e&&(r&&this._map.removeLayer(this._layers[layer].layer),delete this._layers[layer]);delete this._groupList[group],this._update();break}},removeAllGroups:function(e){for(group in this._groupList){for(layer in this._layers)this._layers[layer].group&&this._layers[layer].group.removable&&(e&&this._map.removeLayer(this._layers[layer].layer),delete this._layers[layer]);delete this._groupList[group]}this._update()},selectLayer:function(e){this._map.addLayer(e),this._update()},unSelectLayer:function(e){this._map.removeLayer(e),this._update()},selectGroup:function(e){this.changeGroup(e,!0)},unSelectGroup:function(e){this.changeGroup(e,!1)},changeGroup:function(e,r){for(group in this._groupList)if(this._groupList[group].groupName==e){for(layer in this._layers)this._layers[layer].group&&this._layers[layer].group.name==e&&(r?this._map.addLayer(this._layers[layer].layer):this._map.removeLayer(this._layers[layer].layer));break}this._update()},_initLayout:function(){var e="leaflet-control-layers",r=this._container=L.DomUtil.create("div",e);r.setAttribute("aria-haspopup",!0),L.Browser.touch?L.DomEvent.on(r,"click",L.DomEvent.stopPropagation):(L.DomEvent.disableClickPropagation(r),L.DomEvent.on(r,"wheel",L.DomEvent.stopPropagation));var o=document.createElement("section");o.className="ac-container "+e+"-list";var t,n=this._form=this._section=L.DomUtil.create("form");o.appendChild(n),this.options.collapsed?(L.Browser.android||L.DomEvent.on(r,"mouseover",this._expand,this).on(r,"mouseout",this._collapse,this),(t=this._layersLink=L.DomUtil.create("a",e+"-toggle",r)).href="#",t.title="Layers",L.Browser.touch?L.DomEvent.on(t,"click",L.DomEvent.stop).on(t,"click",this._expand,this):L.DomEvent.on(t,"focus",this._expand,this),this._map.on("click",this._collapse,this)):this._expand(),this._baseLayersList=L.DomUtil.create("div",e+"-base",n),this._overlaysList=L.DomUtil.create("div",e+"-overlays",n),r.appendChild(o);for(var a=0;a<(containers=r.getElementsByClassName("ac-container")).length;a++)this.options.container_width&&(containers[a].style.width=this.options.container_width),this._default_maxHeight=this.options.container_maxHeight||this._map.getSize().y-70,containers[a].style.maxHeight=this._default_maxHeight;window.onresize=this._on_resize_window.bind(this)},_on_resize_window:function(){for(var e=0;e<containers.length;e++)containers[e].style.maxHeight=window.innerHeight-90<this._removePxToInt(this._default_maxHeight)?window.innerHeight-90+"px":this._removePxToInt(this._default_maxHeight)+"px"},_removePxToInt:function(e){return"string"==typeof e?parseInt(e.replace("px","")):e},_addLayer:function(e,r,o,t){var n=L.Util.stamp(e);if(this._layers[n]={layer:e,name:r,overlay:t},o){var a=this._groupList.indexOf(o);if(-1===a)for(g in this._groupList)if(this._groupList[g].groupName==o.groupName){a=g;break}-1===a&&(a=this._groupList.push(o)-1),this._layers[n].group={name:o.groupName,id:a,expanded:o.expanded,removable:o.removable}}this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="",this._domGroups.length=0;var e,r,o=!(this._layerControlInputs=[]),t=!1;for(e in this._layers)r=this._layers[e],this._addItem(r),t=t||r.overlay,o=o||!r.overlay}},_onLayerChange:function(e){var r=this._layers[L.Util.stamp(e.layer)];r&&(this._handlingClick||this._update(),e=r.overlay?"layeradd"===e.type?"overlayadd":"overlayremove":"layeradd"===e.type?"baselayerchange":null,this._checkIfDisabled(),e&&this._map.fire(e,r))},_onZoomEnd:function(e){this._checkIfDisabled()},_checkIfDisabled:function(e){var r,o=this._map.getZoom();for(layerId in this._layers)this._layers[layerId].layer.options&&(this._layers[layerId].layer.options.minZoom||this._layers[layerId].layer.options.maxZoom)&&(r=document.getElementById("ac_layer_input_"+this._layers[layerId].layer._leaflet_id),o<this._layers[layerId].layer.options.minZoom||o>this._layers[layerId].layer.options.maxZoom?r.disabled="disabled":r.disabled="")},_createRadioElement:function(e,r){e='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"';r&&(e+=' checked="checked"'),e+="/>";r=document.createElement("div");return r.innerHTML=e,r.firstChild},_addItem:function(e){var r=document.createElement("div"),o=this._map.hasLayer(e.layer),t="ac_layer_input_"+e.layer._leaflet_id;e.overlay?((i=document.createElement("input")).type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=o,r.className="menu-item-checkbox"):(i=this._createRadioElement("leaflet-base-layers",o),r.className="menu-item-radio"),i.id=t,this._layerControlInputs.push(i),i.layerId=L.Util.stamp(e.layer),L.DomEvent.on(i,"click",this._onInputClick,this);var n=document.createElement("label");n.setAttribute("for",t),n.innerHTML=e.name,r.appendChild(i),r.appendChild(n),e.layer.StyledLayerControl&&(e.layer.StyledLayerControl.removable&&((a=document.createElement("input")).type="button",a.className="bt_delete",L.DomEvent.on(a,"click",this._onDeleteClick,this),r.appendChild(a)),e.layer.StyledLayerControl.visible&&this._map.addLayer(e.layer));var a,i=e.overlay?this._overlaysList:this._baseLayersList,n=this._domGroups[e.group.id];return n?n.getElementsByTagName("article")[0].appendChild(r):((n=document.createElement("div")).id="leaflet-control-accordion-layers-"+e.group.id,e.group.expanded,this.options.exclusive,inputElement=document.createElement("input"),inputElement.id="ac"+e.group.id,inputElement.type="checkbox",inputElement.name="accordion-1",inputElement.className="menu",inputElement.defaultChecked=o,inputElement2=document.createElement("input"),inputElement2.id="ac_group_input"+e.group.id,inputElement2.type="checkbox",inputElement2.className="leaflet-control-category-selector",inputElement2.defaultChecked=o,inputLabel=document.createElement("label"),inputLabel.setAttribute("for","ac"+e.group.id),inputLabel.for="ac"+e.group.id,inputLabel.className="chevron",inputLabel.innerHTML='<i class="fa fa-chevron-down unchecked"></i><i class="fa fa-chevron-up checked"></i>',inputLabel2=document.createElement("label"),inputLabel2.setAttribute("for","ac_group_input"+e.group.id),inputLabel2.for="ac_group_input"+e.group.id,inputLabel2.setAttribute("data-group-name",e.group.name),inputLabel2.className="category-name",inputLabel2.innerHTML=e.group.name,article=document.createElement("article"),article.className="ac-large",a=L.DomUtil.create("div","category-container"),inputElement2.checked&&(L.Browser.touch?L.DomEvent.on(inputLabel2,"click",L.DomEvent.stop).on(inputLabel2,"click",this._onUnSelectGroup,this):L.DomEvent.on(inputLabel2,"click",L.DomEvent.stop).on(inputLabel2,"focus",this._onUnSelectGroup,this)),inputElement2.checked||(L.Browser.touch?L.DomEvent.on(inputLabel2,"click",L.DomEvent.stop).on(inputLabel2,"click",this._onSelectGroup,this):L.DomEvent.on(inputLabel2,"click",L.DomEvent.stop).on(inputLabel2,"focus",this._onSelectGroup,this)),e.layer.StyledLayerControl&&e.layer.StyledLayerControl.hiddenSubLayers&&(n.className+=" hidden-sub-layers"),article.appendChild(r),this.options.group_maxHeight&&(article.style.maxHeight=this.options.group_maxHeight),a.appendChild(inputElement2),a.appendChild(inputLabel2),a.appendChild(inputLabel),n.appendChild(inputElement),n.appendChild(a),n.appendChild(article),e.overlay&&this.options.group_togglers.show&&(o=L.DomUtil.create("div","group-toggle-container",n),(a=L.DomUtil.create("a","group-toggle-all",o)).href="#",a.title=this.options.group_togglers.labelAll,a.innerHTML="Select",a.setAttribute("data-group-name",e.group.name),L.Browser.touch?L.DomEvent.on(a,"click",L.DomEvent.stop).on(a,"click",this._onSelectGroup,this):L.DomEvent.on(a,"click",L.DomEvent.stop).on(a,"focus",this._onSelectGroup,this),L.DomUtil.create("span","group-toggle-divider",o).innerHTML=" / ",(a=L.DomUtil.create("a","group-toggle-none",o)).href="#",a.title=this.options.group_togglers.labelNone,a.innerHTML="Unselect",a.setAttribute("data-group-name",e.group.name),L.Browser.touch?L.DomEvent.on(a,"click",L.DomEvent.stop).on(a,"click",this._onUnSelectGroup,this):L.DomEvent.on(a,"click",L.DomEvent.stop).on(a,"focus",this._onUnSelectGroup,this),e.overlay&&this.options.group_togglers.show&&e.group.removable&&(L.DomUtil.create("span","group-toggle-divider",o).innerHTML=" / "),e.group.removable&&((o=L.DomUtil.create("a","group-toggle-none",o)).href="#",o.title=this.options.groupDeleteLabel,o.innerHTML=this.options.groupDeleteLabel,o.setAttribute("data-group-name",e.group.name),L.Browser.touch?L.DomEvent.on(o,"click",L.DomEvent.stop).on(o,"click",this._onRemoveGroup,this):L.DomEvent.on(o,"click",L.DomEvent.stop).on(o,"focus",this._onRemoveGroup,this))),i.appendChild(n),this._domGroups[e.group.id]=n),r},_onDeleteClick:function(e){var r=e.target.parentElement.childNodes[0];return n_obj=this._layers[r.layerId],!n_obj.overlay&&r.checked||(this._map.hasLayer(n_obj.layer)&&this._map.removeLayer(n_obj.layer),e.target.parentNode.remove()),!1},_onSelectGroup:function(e){this.selectGroup(e.target.getAttribute("data-group-name"))},_onUnSelectGroup:function(e){this.unSelectGroup(e.target.getAttribute("data-group-name"))},_onRemoveGroup:function(e){this.removeGroup(e.target.getAttribute("data-group-name"),!0)},_expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),L.Control.styledLayerControl=function(e,r,o){return new L.Control.StyledLayerControl(e,r,o)},function(){L.Control.FullScreen=L.Control.extend({options:{position:"topleft",title:"Full Screen",titleCancel:"Exit Full Screen",forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},onAdd:function(e){var r="leaflet-control-zoom-fullscreen",o="",e=e.zoomControl&&!this.options.forceSeparateButton?e.zoomControl._container:L.DomUtil.create("div","leaflet-bar");return this.options.content?o=this.options.content:r+=" fullscreen-icon",this._createButton(this.options.title,r,o,e,this.toggleFullScreen,this),this._map.on("enterFullscreen exitFullscreen",this._toggleTitle,this),e},_createButton:function(e,r,o,t,n,a){return this.link=L.DomUtil.create("a",r,t),this.link.href="#",this.link.title=e,this.link.innerHTML=o,L.DomEvent.addListener(this.link,"click",L.DomEvent.stopPropagation).addListener(this.link,"click",L.DomEvent.preventDefault).addListener(this.link,"click",n,a),L.DomEvent.addListener(t,i.fullScreenEventName,L.DomEvent.stopPropagation).addListener(t,i.fullScreenEventName,L.DomEvent.preventDefault).addListener(t,i.fullScreenEventName,this._handleFullscreenChange,a),L.DomEvent.addListener(document,i.fullScreenEventName,L.DomEvent.stopPropagation).addListener(document,i.fullScreenEventName,L.DomEvent.preventDefault).addListener(document,i.fullScreenEventName,this._handleFullscreenChange,a),this.link},toggleFullScreen:function(){var e=this._map;e._exitFired=!1,e._isFullscreen?(i.supportsFullScreen&&!this.options.forcePseudoFullscreen?i.cancelFullScreen():L.DomUtil.removeClass(this.options.fullscreenElement||e._container,"leaflet-pseudo-fullscreen"),e.fire("exitFullscreen"),e._exitFired=!0,e._isFullscreen=!1):(i.supportsFullScreen&&!this.options.forcePseudoFullscreen?i.requestFullScreen(this.options.fullscreenElement||e._container):L.DomUtil.addClass(this.options.fullscreenElement||e._container,"leaflet-pseudo-fullscreen"),e.fire("enterFullscreen"),e._isFullscreen=!0)},_toggleTitle:function(){this.link.title=this._map._isFullscreen?this.options.title:this.options.titleCancel},_handleFullscreenChange:function(){var e=this._map;e.invalidateSize(),i.isFullScreen()||e._exitFired||(e.fire("exitFullscreen"),e._exitFired=!0,e._isFullscreen=!1)}}),L.Map.addInitHook(function(){this.options.fullscreenControl&&(this.fullscreenControl=L.control.fullscreen(this.options.fullscreenControlOptions),this.addControl(this.fullscreenControl))});var i={supportsFullScreen:!(L.control.fullscreen=function(e){return new L.Control.FullScreen(e)}),isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},e="webkit moz o ms khtml".split(" ");if(void 0!==document.exitFullscreen)i.supportsFullScreen=!0;else{for(var r=0,o=e.length;r<o;r++)if(i.prefix=e[r],void 0!==document[i.prefix+"CancelFullScreen"]){i.supportsFullScreen=!0;break}void 0!==document.msExitFullscreen&&(i.prefix="ms",i.supportsFullScreen=!0)}i.supportsFullScreen&&("ms"===i.prefix?i.fullScreenEventName="MSFullscreenChange":i.fullScreenEventName=i.prefix+"fullscreenchange",i.isFullScreen=function(){switch(this.prefix){case"":return document.fullscreen;case"webkit":return document.webkitIsFullScreen;case"ms":return document.msFullscreenElement;default:return document[this.prefix+"FullScreen"]}},i.requestFullScreen=function(e){switch(this.prefix){case"":return e.requestFullscreen();case"ms":return e.msRequestFullscreen();default:return e[this.prefix+"RequestFullScreen"]()}},i.cancelFullScreen=function(){switch(this.prefix){case"":return document.exitFullscreen();case"ms":return document.msExitFullscreen();default:return document[this.prefix+"CancelFullScreen"]()}}),"undefined"!=typeof jQuery&&(jQuery.fn.requestFullScreen=function(){return this.each(function(){var e=jQuery(this);i.supportsFullScreen&&i.requestFullScreen(e)})}),window.fullScreenApi=i}();var mapTile=new L.tileLayer("//{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{maxZoom:17,attribution:'données © <a href="//osm.org/copyright">OpenStreetMap</a>/ODbL - rendu <a href="//openstreetmap.fr">OSM France</a>'});function onEachFeature(e,r){e.properties&&(e=null!=e.properties.site_web&&""!=e.properties.site_web?"<h2>"+e.properties.titre+'</h2><img src="wp-content/uploads/participants-database/'+e.properties.image+'" class="logo-popup" alt="Logo"/><table cellpadding="2"><tr><th>Description</th><td>'+e.properties.description_longue+"</td></tr><tr><th>Addresse</th><td>"+e.properties.adresse+" "+e.properties.code_postal+" "+e.properties.ville+'</td></tr><tr><th>Site web</th><td><a target="_blank" href="http://'+e.properties.site_web+'" rel="noopener noreferrer">'+e.properties.site_web+"</a></td></tr><table>":"<h2>"+e.properties.titre+'</h2><img src="wp-content/uploads/participants-database/'+e.properties.image+'" class="logo-popup" alt="Logo"/><table cellpadding="2"><tr><th>Description</th><td>'+e.properties.description_longue+"</td></tr><tr><th>Addresse</th><td>"+e.properties.adresse+" "+e.properties.code_postal+" "+e.properties.ville+"</td></tr><table>",r.bindPopup(e))}var epiceriesIcon=L.icon({iconUrl:"wp-content/uploads/geojson/epiceries_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),epiceriesLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:epiceriesIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/epiceries.geojson",function(e){epiceriesLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/epiceries-comptoir.geojson",function(e){epiceriesLayer.addData(e)});var aussiIcon=L.icon({iconUrl:"wp-content/uploads/geojson/aussi_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),aussiLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:aussiIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/et_aussi.geojson",function(e){aussiLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/et_aussi-comptoir.geojson",function(e){aussiLayer.addData(e)});var boulangersIcon=L.icon({iconUrl:"wp-content/uploads/geojson/boulangers_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),boulangersLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:boulangersIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/paysans_boulangers_et_boulangers.geojson",function(e){boulangersLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/paysans_boulangers_et_boulangers-comptoir.geojson",function(e){boulangersLayer.addData(e)});var soinIcon=L.icon({iconUrl:"wp-content/uploads/geojson/soin_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),soinLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:soinIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/prendre_soin_de_soi.geojson",function(e){soinLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/prendre_soin_de_soi-comptoir.geojson",function(e){soinLayer.addData(e)});var producteursIcon=L.icon({iconUrl:"wp-content/uploads/geojson/producteurs_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),producteursLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:producteursIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/producteurs.geojson",function(e){producteursLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/producteurs-comptoir.geojson",function(e){producteursLayer.addData(e)});var cultureIcon=L.icon({iconUrl:"wp-content/uploads/geojson/culture_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),cultureLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:cultureIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/se_cultiver_se_divertir_se_detendre.geojson",function(e){cultureLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/se_cultiver_se_divertir_se_detendre-comptoir.geojson",function(e){cultureLayer.addData(e)});var seDeplacerIcon=L.icon({iconUrl:"wp-content/uploads/geojson/velo_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),seDeplacerLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:seDeplacerIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/se_deplacer.geojson",function(e){seDeplacerLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/se_deplacer-comptoir.geojson",function(e){seDeplacerLayer.addData(e)});var seMeublerIcon=L.icon({iconUrl:"wp-content/uploads/geojson/meuble_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),seMeublerLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:seMeublerIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/se_meubler_decorer_amenager.geojson",function(e){seMeublerLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/se_meubler_decorer_amenager-comptoir.geojson",function(e){seMeublerLayer.addData(e)});var seRestaurerIcon=L.icon({iconUrl:"wp-content/uploads/geojson/restauration_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),seRestaurerLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:seRestaurerIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/se_restaurer_et_boire_un_verre.geojson",function(e){seRestaurerLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/se_restaurer_et_boire_un_verre-comptoir.geojson",function(e){seRestaurerLayer.addData(e)});var sengagerIcon=L.icon({iconUrl:"wp-content/uploads/geojson/engagement_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),sengagerLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:sengagerIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/sengager.geojson",function(e){sengagerLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/sengager-comptoir.geojson",function(e){sengagerLayer.addData(e)});var shabillerIcon=L.icon({iconUrl:"wp-content/uploads/geojson/habiller_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),shabillerLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:shabillerIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/shabiller_sequiper.geojson",function(e){shabillerLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/shabiller_sequiper-comptoir.geojson",function(e){shabillerLayer.addData(e)});var traiteursIcon=L.icon({iconUrl:"wp-content/uploads/geojson/traiteurs_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),traiteursLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:traiteursIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/traiteurs.geojson",function(e){traiteursLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/traiteurs-comptoir.geojson",function(e){traiteursLayer.addData(e)});var amapIcon=L.icon({iconUrl:"wp-content/uploads/geojson/amap_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),amapLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:amapIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/amap.geojson",function(e){amapLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/amap-comptoir.geojson",function(e){amapLayer.addData(e)});var educPopIcon=L.icon({iconUrl:"wp-content/uploads/geojson/educ-pop_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),educPopLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:educPopIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/associations_deducation_populaire.geojson",function(e){educPopLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/associations_deducation_populaire-comptoir.geojson",function(e){educPopLayer.addData(e)});var tourismeIcon=L.icon({iconUrl:"wp-content/uploads/geojson/tourisme_marker.png",iconSize:[34,52],iconAnchor:[14,42],popupAnchor:[0,-35]}),tourismeLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:tourismeIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/tourisme_vacances_we.geojson",function(e){tourismeLayer.addData(e)}),jQuery.getJSON("wp-content/uploads/geojson/tourisme_vacances_we-comptoir.geojson",function(e){tourismeLayer.addData(e)});var seNourrir=L.layerGroup([epiceriesLayer,producteursLayer,boulangersLayer,traiteursLayer,amapLayer]),sortir=L.layerGroup([seRestaurerLayer,cultureLayer,educPopLayer,tourismeLayer]),tousLayer=new L.geoJson(null),epiceriesComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:epiceriesIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/epiceries-comptoir.geojson",function(e){epiceriesComptoirLayer.addData(e)});var aussiComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:aussiIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/et_aussi-comptoir.geojson",function(e){aussiComptoirLayer.addData(e)});var boulangersComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:boulangersIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/paysans_boulangers_et_boulangers-comptoir.geojson",function(e){boulangersComptoirLayer.addData(e)});var soinComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:soinIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/prendre_soin_de_soi-comptoir.geojson",function(e){soinComptoirLayer.addData(e)});var producteursComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:producteursIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/producteurs-comptoir.geojson",function(e){producteursComptoirLayer.addData(e)});var cultureComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:cultureIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/se_cultiver_se_divertir_se_detendre-comptoir.geojson",function(e){cultureComptoirLayer.addData(e)});var seDeplacerComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:seDeplacerIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/se_deplacer-comptoir.geojson",function(e){seDeplacerComptoirLayer.addData(e)});var seMeublerComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:seMeublerIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/se_meubler_decorer_amenager-comptoir.geojson",function(e){seMeublerComptoirLayer.addData(e)});var seRestaurerComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:seRestaurerIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/se_restaurer_et_boire_un_verre-comptoir.geojson",function(e){seRestaurerComptoirLayer.addData(e)});var sengagerComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:sengagerIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/sengager-comptoir.geojson",function(e){sengagerComptoirLayer.addData(e)});var shabillerComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:shabillerIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/shabiller_sequiper-comptoir.geojson",function(e){shabillerComptoirLayer.addData(e)});var traiteursComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:traiteursIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/traiteurs-comptoir.geojson",function(e){traiteursComptoirLayer.addData(e)});var amapComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:amapIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/amap-comptoir.geojson",function(e){amapComptoirLayer.addData(e)});var educPopComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:educPopIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/associations_deducation_populaire-comptoir.geojson",function(e){educPopComptoirLayer.addData(e)});var tourismeComptoirLayer=new L.geoJson(null,{pointToLayer:function(e,r){return L.marker(r,{icon:tourismeIcon,title:e.properties.titre})},onEachFeature:onEachFeature});jQuery.getJSON("wp-content/uploads/geojson/tourisme_vacances_we-comptoir.geojson",function(e){tourismeComptoirLayer.addData(e)});var seNourrirComptoir=L.layerGroup([epiceriesComptoirLayer,producteursComptoirLayer,boulangersComptoirLayer,traiteursComptoirLayer,amapComptoirLayer]),sortirComptoir=L.layerGroup([seRestaurerComptoirLayer,cultureComptoirLayer,educPopComptoirLayer,tourismeComptoirLayer]),tousComptoirLayer=new L.geoJson(null),mymap=new L.map("mapid",{layers:[mapTile,tousLayer],center:[48.692054,6.184417],zoom:9,doubleClickZoom:!1,fullscreenControl:!0,fullscreenControlOptions:{position:"topleft"}});seNourrir.addTo(mymap),sortir.addTo(mymap),soinLayer.addTo(mymap),shabillerLayer.addTo(mymap),seDeplacerLayer.addTo(mymap),seMeublerLayer.addTo(mymap),sengagerLayer.addTo(mymap),aussiLayer.addTo(mymap);var overlays=[{groupName:"Tous",expanded:!0,layers:{Tous:tousLayer}},{groupName:"Se nourrir",expanded:!0,layers:{Epiceries:epiceriesLayer,Producteurs:producteursLayer,"Paysans boulangers et boulangers":boulangersLayer,Traiteurs:traiteursLayer,AMAP:amapLayer}},{groupName:"Sortir",expanded:!0,layers:{"Se restaurer et boire un verre":seRestaurerLayer,"Se cultiver, se divertir, se détendre":cultureLayer,"Associations d'éducation populaire":educPopLayer,"Tourisme, vacances, WE":tourismeLayer}},{groupName:"Prendre soin de soi",expanded:!0,layers:{"Prendre soin de soi":soinLayer}},{groupName:"S'habiller et s'equiper",expanded:!0,layers:{"S'habiller et s'équiper":shabillerLayer}},{groupName:"Se deplacer",expanded:!0,layers:{"Se déplacer":seDeplacerLayer}},{groupName:"Se meubler, decorer, amenager",expanded:!0,layers:{"Se meubler, décorer, aménager":seMeublerLayer}},{groupName:"Et aussi...",expanded:!0,layers:{"Et aussi":aussiLayer}},{groupName:"S'engager",expanded:!0,layers:{"S'engager":sengagerLayer}}];soinLayer.StyledLayerControl={hiddenSubLayers:!0},shabillerLayer.StyledLayerControl={hiddenSubLayers:!0},seDeplacerLayer.StyledLayerControl={hiddenSubLayers:!0},seMeublerLayer.StyledLayerControl={hiddenSubLayers:!0},aussiLayer.StyledLayerControl={hiddenSubLayers:!0},sengagerLayer.StyledLayerControl={hiddenSubLayers:!0},tousLayer.StyledLayerControl={hiddenSubLayers:!0};var overlaysComptoir=[{groupName:"Tous",expanded:!0,layers:{Tous:tousComptoirLayer}},{groupName:"Se nourrir",expanded:!0,layers:{Epiceries:epiceriesComptoirLayer,Producteurs:producteursComptoirLayer,"Paysans boulangers et boulangers":boulangersComptoirLayer,Traiteurs:traiteursComptoirLayer,AMAP:amapComptoirLayer}},{groupName:"Sortir",expanded:!0,layers:{"Se restaurer et boire un verre":seRestaurerComptoirLayer,"Se cultiver, se divertir, se détendre":cultureComptoirLayer,"Associations d'éducation populaire":educPopComptoirLayer,"Tourisme, vacances, WE":tourismeComptoirLayer}},{groupName:"Prendre soin de soi",expanded:!0,layers:{"Prendre soin de soi":soinComptoirLayer}},{groupName:"S'habiller et s'equiper",expanded:!0,layers:{"S'habiller et s'équiper":shabillerComptoirLayer}},{groupName:"Se deplacer",expanded:!0,layers:{"Se déplacer":seDeplacerComptoirLayer}},{groupName:"Se meubler, decorer, amenager",expanded:!0,layers:{"Se meubler, décorer, aménager":seMeublerComptoirLayer}},{groupName:"S'engager",expanded:!0,layers:{"S'engager":sengagerComptoirLayer}},{groupName:"Et aussi...",expanded:!0,layers:{"Et aussi":aussiComptoirLayer}}];soinComptoirLayer.StyledLayerControl={hiddenSubLayers:!0},shabillerComptoirLayer.StyledLayerControl={hiddenSubLayers:!0},seDeplacerComptoirLayer.StyledLayerControl={hiddenSubLayers:!0},seMeublerComptoirLayer.StyledLayerControl={hiddenSubLayers:!0},aussiComptoirLayer.StyledLayerControl={hiddenSubLayers:!0},sengagerComptoirLayer.StyledLayerControl={hiddenSubLayers:!0},tousComptoirLayer.StyledLayerControl={hiddenSubLayers:!0};var options={collapsed:!0};layersControl=new L.Control.styledLayerControl(null,overlays,options),layersComptoirControl=new L.Control.styledLayerControl(null,overlaysComptoir,options),mymap.addControl(layersControl),jQuery("#leaflet-control-accordion-layers-0").insertBefore("#leaflet-control-accordion-layers-1"),mymap.on("overlayadd",function(e){e.layer===tousLayer?(layersControl.selectGroup("Se nourrir"),layersControl.selectGroup("Sortir"),layersControl.selectGroup("Prendre soin de soi"),layersControl.selectGroup("S'habiller et s'equiper"),layersControl.selectGroup("Se deplacer"),layersControl.selectGroup("Se meubler, decorer, amenager"),layersControl.selectGroup("Et aussi..."),layersControl.selectGroup("S'engager")):e.layer===tousComptoirLayer&&(layersComptoirControl.selectGroup("Se nourrir"),layersComptoirControl.selectGroup("Sortir"),layersComptoirControl.selectGroup("Prendre soin de soi"),layersComptoirControl.selectGroup("S'habiller et s'equiper"),layersComptoirControl.selectGroup("Se deplacer"),layersComptoirControl.selectGroup("Se meubler, decorer, amenager"),layersComptoirControl.selectGroup("Et aussi..."),layersComptoirControl.selectGroup("S'engager"))}),mymap.on("overlayremove",function(e){e.layer===tousLayer?(layersControl.unSelectGroup("Se nourrir"),layersControl.unSelectGroup("Sortir"),layersControl.unSelectGroup("Prendre soin de soi"),layersControl.unSelectGroup("S'habiller et s'equiper"),layersControl.unSelectGroup("Se deplacer"),layersControl.unSelectGroup("Se meubler, decorer, amenager"),layersControl.unSelectGroup("Et aussi..."),layersControl.unSelectGroup("S'engager")):e.layer===tousComptoirLayer&&(layersComptoirControl.unSelectGroup("Se nourrir"),layersComptoirControl.unSelectGroup("Sortir"),layersComptoirControl.unSelectGroup("Prendre soin de soi"),layersComptoirControl.unSelectGroup("S'habiller et s'equiper"),layersComptoirControl.unSelectGroup("Se deplacer"),layersComptoirControl.unSelectGroup("Se meubler, decorer, amenager"),layersComptoirControl.unSelectGroup("Et aussi..."),layersComptoirControl.unSelectGroup("S'engager"))});const elementToObserve=document.querySelector(".leaflet-control-container"),observer=new MutationObserver(function(){jQuery("div").index(jQuery("#leaflet-control-accordion-layers-0"))>jQuery("div").index(jQuery("#leaflet-control-accordion-layers-1"))&&jQuery("#leaflet-control-accordion-layers-0").insertBefore("#leaflet-control-accordion-layers-1")});observer.observe(elementToObserve,{subtree:!0,childList:!0}),jQuery("[type=radio][name=map-choice]").change(function(){"comptoir"==this.value?(mymap.removeLayer(seNourrir),mymap.removeLayer(sortir),mymap.removeLayer(soinLayer),mymap.removeLayer(shabillerLayer),mymap.removeLayer(seDeplacerLayer),mymap.removeLayer(seMeublerLayer),mymap.removeLayer(sengagerLayer),mymap.removeLayer(aussiLayer),mymap.removeLayer(tousLayer),mymap.removeControl(layersControl),mymap.addControl(layersComptoirControl),mymap.addLayer(seNourrirComptoir),mymap.addLayer(sortirComptoir),mymap.addLayer(soinComptoirLayer),mymap.addLayer(shabillerComptoirLayer),mymap.addLayer(seDeplacerComptoirLayer),mymap.addLayer(seMeublerComptoirLayer),mymap.addLayer(sengagerComptoirLayer),mymap.addLayer(aussiComptoirLayer),mymap.addLayer(tousComptoirLayer)):"acteurs"==this.value&&(mymap.removeLayer(seNourrirComptoir),mymap.removeLayer(sortirComptoir),mymap.removeLayer(soinComptoirLayer),mymap.removeLayer(shabillerComptoirLayer),mymap.removeLayer(seDeplacerComptoirLayer),mymap.removeLayer(seMeublerComptoirLayer),mymap.removeLayer(sengagerComptoirLayer),mymap.removeLayer(aussiComptoirLayer),mymap.removeLayer(tousComptoirLayer),mymap.removeControl(layersComptoirControl),mymap.addControl(layersControl),mymap.addLayer(seNourrir),mymap.addLayer(sortir),mymap.addLayer(soinLayer),mymap.addLayer(shabillerLayer),mymap.addLayer(seDeplacerLayer),mymap.addLayer(seMeublerLayer),mymap.addLayer(sengagerLayer),mymap.addLayer(aussiLayer),mymap.addLayer(tousLayer))});